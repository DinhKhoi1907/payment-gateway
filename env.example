# Application Configuration
NODE_ENV=development
PORT=3000

# Database Configuration
# Primary database settings
DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres123
DB_DATABASE=payment_db

# Fallback database settings (if primary not available)
DB_FALLBACK_HOST=localhost
DB_FALLBACK_PORT=5432
DB_FALLBACK_USERNAME=postgres
DB_FALLBACK_PASSWORD=postgres123
DB_FALLBACK_DATABASE=payment_db

# Database URL (constructed from above settings)
# Note: For local development, you can comment this out or use it without SSL
# For Vercel Postgres, use POSTGRES_URL instead (auto-provided by Vercel)
# SSL will be enabled automatically for Vercel Postgres URLs
DATABASE_URL=postgresql://${DB_USERNAME}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_DATABASE}

# Vercel Postgres URL (auto-provided by Vercel, leave empty for local)
# POSTGRES_URL=

# Force SSL connection (set to 'true' if your local PostgreSQL supports SSL)
# DB_USE_SSL=false

# Nginx Configuration
NGINX_PORT=80

# Logging
LOG_LEVEL=debug

# Payment Service Specific
PAYMENT_SERVICE_API_KEY=your_secret_api_key
PAYMENT_SERVICE_WEBHOOK_SECRET=your_webhook_secret

# Laravel Integration
LARAVEL_SECRET_KEY=your_laravel_secret_key
LARAVEL_CALLBACK_URL=http://localhost:8000/api/payment/callback
LARAVEL_URL=http://localhost:8000
NESTJS_URL=https://payment-gateway.dinhkhoi.io.vn
NESTJS_SECRET_KEY=your_nestjs_secret_key
IDEMPOTENCY_TTL_MINUTES=10

# Sepay Configuration (from https://developer.sepay.vn/)
SEPAY_API_URL=https://pay-sandbox.sepay.vn
SEPAY_MERCHANT_ID=your_sepay_merchant_id
SEPAY_SECRET_KEY=your_sepay_secret_key
SEPAY_USE_REAL_API=false
SEPAY_ACCOUNT=0356936816
SEPAY_BANK=MBBank

# MoMo Configuration
MOMO_API_URL=https://test-payment.momo.vn/v2/gateway/api
MOMO_PARTNER_CODE=your_momo_partner_code
MOMO_ACCESS_KEY=your_momo_access_key
MOMO_SECRET_KEY=your_momo_secret_key
# Địa chỉ webhook nhận IPN từ MoMo (ví dụ: n8n, NestJS endpoint, ... )
MOMO_NOTIFY_URL=http://192.168.1.100:5678/webhook/36692639-b0c9-441a-afb0-32eea608dff2
# MoMo TTL (Time-To-Live) - Thời gian hết hạn thanh toán (phút)
# Lưu ý: MoMo API hiện tại không hỗ trợ điều chỉnh TTL qua API,
# nhưng có thể được cấu hình trong tài khoản MoMo Business
# Giá trị này được sử dụng để log và theo dõi, mặc định 30 phút
MOMO_DEFAULT_TTL_MINUTES=30

# PayPal Configuration
PAYPAL_API_URL=https://api.sandbox.paypal.com
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_VND_TO_USD_RATE=23000
